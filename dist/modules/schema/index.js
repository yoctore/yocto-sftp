/* yocto-sftp - This is an wrapper of SSH2 library to simply create sftp connection. - V0.2.0 */
"use strict";function Schema(a){this.logger=a}var logger=require("yocto-logger"),_=require("lodash"),utils=require("yocto-utils"),Q=require("q"),joi=require("joi");Schema.prototype.validate=function(a,b){var c=Q.defer();this.logger.debug("[ Schema.validate ] - validate schema for schemaName = "+b);var d=joi.validate(a,this.getSchema(b));return _.isEmpty(d.error)?c.resolve(d.value):(this.logger.error("[ Schema.validate ] - joi validation failed, details : "+utils.obj.inspect(d.error)),c.reject(d.error)),c.promise},Schema.prototype.getSchema=function(a){var b={load:joi.object().required().keys({host:joi.string().optional().default("localhost"),port:joi.number().integer().default(22),user:joi.string().optional(),password:joi.string().optional(),alogrithms:joi.object().optional(),agent:joi.string().optional()}).unknown()};return b[a]},module.exports=function(a){return(_.isUndefined(a)||_.isNull(a))&&(logger.warning("[ Schema.constructor ] - Invalid logger given. Use internal logger"),a=logger),new Schema(a)};